<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PMGC â€“ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</title>

<style>
*{box-sizing:border-box;font-family:Cairo,sans-serif}
body{
margin:0;min-height:100vh;
background:linear-gradient(rgba(0,0,0,.8),rgba(0,0,0,.8)),
url("https://images.unsplash.com/photo-1604079628040-94301bb21b91");
background-size:cover;
color:#fff;display:flex;justify-content:center;align-items:center
}
.container{
width:95%;max-width:420px;
background:rgba(0,0,0,.65);
backdrop-filter:blur(10px);
padding:20px;border-radius:20px;
box-shadow:0 0 50px rgba(0,255,255,.2)
}
h1{text-align:center;margin-bottom:10px}
.timer{text-align:center;color:#00ffff;margin-bottom:15px;font-size:18px}
input,button{
width:100%;padding:12px;margin-bottom:10px;
border:none;border-radius:12px;font-size:15px
}
input{background:#111;color:#fff}
button{
background:linear-gradient(45deg,#00ffff,#0077ff);
color:#000;font-weight:bold;cursor:pointer
}
button:disabled{background:#555;color:#999}
.success{color:#0f0;text-align:center}
.admin-btn{
background:#ffb300;color:#000;margin-top:10px
}
.panel{
display:none;background:#111;padding:15px;border-radius:15px;margin-top:15px
}
.panel h3{text-align:center}
.footer{text-align:center;font-size:13px;opacity:.8}
</style>
</head>

<body>

<div class="container">
<h1>Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù„Ø¨Ø·ÙˆÙ„Ø© PMGC</h1>
<div class="timer" id="timer"></div>

<input id="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
<input id="pid" placeholder="ID Ø§Ù„Ù„Ø§Ø¹Ø¨">
<input id="rank" placeholder="Ø§Ù„ØªÙŠØ± / Ø§Ù„Ø±Ø§Ù†Ùƒ">
<input id="ping" placeholder="Ø§Ù„Ø¨Ù†Ø¬">

<button id="submitBtn" onclick="submitForm()">ØªÙ‚Ø¯ÙŠÙ…</button>
<div class="success" id="msg"></div>

<button class="admin-btn" onclick="openAdmin()">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>

<div class="panel" id="adminPanel">
<h3>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
<p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†: <span id="count">0</span></p>
<button onclick="closeApply()">Ù‚ÙÙ„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>
<button onclick="openApply()">ÙØªØ­ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>
</div>

<div class="footer">
ğŸ“ 2001270382949<br>
Ø§Ù„Ø±ÙˆÙ…Ø§Øª 2 â€“ 3 â€“ 4 (Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ø¯ÙŠØ«)
</div>
</div>

<script>
// ===== Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª =====
const PASSWORD = "PMGC2026";
const TOTAL_TIME = 24*60*60*1000;

// ===== Ø§Ù„ÙˆÙ‚Øª =====
let startTime = localStorage.getItem("startTime");
if(!startTime){
  startTime = Date.now();
  localStorage.setItem("startTime",startTime);
}else startTime = parseInt(startTime);

// ===== Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… =====
if(localStorage.getItem("applyStatus")==null){
  localStorage.setItem("applyStatus","open");
}

function updateTimer(){
  const now = Date.now();
  const remain = TOTAL_TIME - (now-startTime);

  if(remain<=0){
    document.getElementById("timer").innerText="âŒ Ø§Ù†ØªÙ‡Ù‰ ÙˆÙ‚Øª Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…";
    localStorage.setItem("applyStatus","closed");
    document.getElementById("submitBtn").disabled=true;
    return;
  }

  const h=Math.floor(remain/3600000);
  const m=Math.floor((remain%3600000)/60000);
  const s=Math.floor((remain%60000)/1000);
  document.getElementById("timer").innerText=
  `â³ ${h} Ø³Ø§Ø¹Ø© ${m} Ø¯Ù‚ÙŠÙ‚Ø© ${s} Ø«Ø§Ù†ÙŠØ©`;
}
setInterval(updateTimer,1000);
updateTimer();

// ===== Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… =====
function submitForm(){
  if(localStorage.getItem("applyStatus")=="closed"){
    alert("Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù…Ù‚ÙÙˆÙ„");
    return;
  }

  const n=name.value.trim(),
        p=pid.value.trim(),
        r=rank.value.trim(),
        g=ping.value.trim();

  if(!n||!p||!r||!g){
    alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    return;
  }

  let list = JSON.parse(localStorage.getItem("players")||"[]");
  list.push({n,p,r,g});
  localStorage.setItem("players",JSON.stringify(list));

  msg.innerText="âœ… ØªÙ… Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­";
  name.value=pid.value=rank.value=ping.value="";
  updateCount();
}

// ===== Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… =====
function openAdmin(){
  const pass=prompt("Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±");
  if(pass===PASSWORD){
    adminPanel.style.display="block";
    updateCount();
  }else alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø·");
}

function updateCount(){
  let list = JSON.parse(localStorage.getItem("players")||"[]");
  count.innerText=list.length;
}

function closeApply(){
  localStorage.setItem("applyStatus","closed");
  submitBtn.disabled=true;
  alert("ØªÙ… Ù‚ÙÙ„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…");
}

function openApply(){
  localStorage.setItem("applyStatus","open");
  submitBtn.disabled=false;
  alert("ØªÙ… ÙØªØ­ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…");
}

// ===== Ù‚ÙÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ =====
if(localStorage.getItem("applyStatus")=="closed"){
  submitBtn.disabled=true;
}
</script>

</body>
</html>
